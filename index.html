<!DOCTYPE html>
<html lang="en">
  <head>
    <title>What Da Hack...</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">

    <link href="/css/custom-page.css" rel="stylesheet" type="text/css">
    <link href="/css/font-awesome.min.css" rel="stylesheet" type="text/css">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js" type="text/javascript"></script>
  </head>

<script type="text/javascript">
  var imgStupid = [];
  var imageLength = 12;
  for(var i=1; i<=imageLength ; i++) {
    imgStupid.push('/images/stupidArt/'+i+'.png');
  }
</script>

  <body>

    <div class="intro-01">
        <h1>Selfie What da Hack</h1><br/>
        <input style="display: none;" type="file" id="mainImageSelect" name="file" />
        <button class="buttonWhite" onclick="selectMainImage()">
          <i class="fa fa-picture-o" aria-hidden="true"></i>
          &nbsp;Select Image
        </button>
    </div>

    <div class="canvasWrapper">
      <div class="custom-box">
          <canvas id="canvas-2d"></canvas>
      </div>
    </div>

    <div class="toolTopBox">
      <div class="toolTopBoxInside">
          <div class="img-item" style="background-image: url('/images/arrow-select.png'); background-size: 90px;background-position: center;background-repeat: no-repeat;"></div>

      </div>
    </div>


    <div class="toolBottomBox">
      <div class="toolBottomBoxInside">
          <div>
            <div class="buttonTool" onClick="bring_front()"><i class="fa fa-long-arrow-up" aria-hidden="true"></i>&nbsp;&nbsp;Front</div>
            <div class="buttonTool" onClick="send_back()"><i class="fa fa-long-arrow-down" aria-hidden="true"></i>&nbsp;&nbsp;Back</div>
            <div class="buttonTool" onClick='deleteObject()'><i class="fa fa-trash" aria-hidden="true"></i></div>
          </div>
          <div>
            <div class="buttonTool green" id="lnkDownload"><i class="fa fa-download" aria-hidden="true"></i>&nbsp;&nbsp;Download</div>
          </div>
      </div>
    </div>

    <script src="js/lib.min.js"></script>
    <script src="js/script.min.js"></script>

    <script>
      $('.canvasWrapper').fadeOut();

      function handleFileSelect(event) {
        var file  = event.target.files[0];
        var reader  = new FileReader();

        reader.addEventListener("load", function () {
          ini_canvas_2d(reader.result);
          $('.toolTopBox').addClass('on');
          $('.toolBottomBox').addClass('on');
          $('.intro-01').hide();
          $('.canvasWrapper').fadeIn();
        }, false);

        if (file) {
          reader.readAsDataURL(file);
        }
      }

      function selectMainImage() {
        $('#mainImageSelect').click();
      }

      function initToolTopBox() {
        imgStupid.forEach(imageUrl => {
          var elementImageButton = '<div class="img-item" style="background-image: url(\'' + imageUrl + '\')" onClick="insertImgWithUrl(\''+ imageUrl + '\')"></div>';
          $('.toolTopBoxInside').append(elementImageButton);
        });
        $('.toolTopBoxInside').width((imgStupid.length * 100) + 100);
      }

      $("#mainImageSelect").change(handleFileSelect)
      initToolTopBox();
    </script>

  </body>
</html>
